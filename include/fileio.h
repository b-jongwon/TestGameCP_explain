// fileio.h
// ---------------------------------------
// 게임의 "최고 기록(best record)"를 파일에서 읽어오고,
// 새로 나온 기록이 더 좋으면 파일에 갱신하는 기능의 인터페이스를 정의하는 헤더.
// 실제 파일 입출력 구현은 fileio.c 같은 소스 파일에서 담당하고,
// 이 헤더는 다른 모듈들이 "함수가 이렇게 생겼다" 라는 것만 알게 해준다.

#ifndef FILEIO_H           // 같은 헤더가 여러 번 include 되는 것을 막기 위한 include guard 시작
#define FILEIO_H           // FILEIO_H가 정의되어 있지 않을 때만 이 아래 코드가 포함됨

// 현재 저장된 "최고 기록"을 파일에서 읽어 와서 double 형태로 반환하는 함수.
// - 반환값: 저장돼 있던 best record 시간(초 단위라고 가정).
// - 파일이 없거나 읽기 실패 시에는 보통 아주 큰 값(예: 9999.0)이나 0.0 등으로 처리하게 구현할 수 있음.
// - 게임 메인 루프에서, 게임 시작 전이나 결과 화면에서 "현재 최고 기록"을 보여줄 때 사용.
double load_best_record(void);

// 새로운 클리어 시간 new_time이 기존 최고 기록보다 더 좋으면(작으면)
// 기록 파일을 업데이트하는 함수.
// - 인자 new_time: 이번 플레이에서 걸린 시간.
// - 내부에서 load_best_record로 기존 값을 읽고, 비교한 뒤 더 좋으면 파일에 덮어씀.
// - 메인 게임에서 스테이지 클리어 시 호출되어, 자동으로 기록 관리가 되도록 설계.
void update_record_if_better(double new_time);

#endif // FILEIO_H         // include guard 끝